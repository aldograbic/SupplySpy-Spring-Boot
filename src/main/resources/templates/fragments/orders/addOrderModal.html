<div
  th:fragment="addOrderModal"
  id="add-order-modal"
  class="hs-overlay hs-overlay-open:opacity-100 hs-overlay-open:duration-500 hidden size-full fixed top-0 start-0 z-[80] opacity-0 overflow-x-hidden transition-all overflow-y-auto pointer-events-none"
>
  <div
    class="hs-overlay-open:opacity-100 hs-overlay-open:duration-500 opacity-0 transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto"
  >
    <div
      class="flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto"
    >
      <div class="flex justify-between items-center py-3 px-4 border-b">
        <h3 class="font-bold text-gray-800">Add new order</h3>
        <button
          type="button"
          class="flex justify-center items-center size-7 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none"
          data-hs-overlay="#add-order-modal"
        >
          <span class="sr-only">Close</span>
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
        </button>
      </div>
      <form action="/insertOrder" method="post">
        <div class="hs-accordion-group p-4">
          <div class="hs-accordion active" id="hs-basic-heading-one">
            <button
              type="button"
              class="hs-accordion-toggle hs-accordion-active:text-orange-400 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 rounded-lg disabled:opacity-50 disabled:pointer-events-none"
              aria-controls="hs-basic-collapse-one"
            >
              <svg
                class="hs-accordion-active:hidden block size-4"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 12h14" />
                <path d="M12 5v14" />
              </svg>
              <svg
                class="hs-accordion-active:block hidden size-4"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 12h14" />
              </svg>
              Customer details
            </button>
            <div
              id="hs-basic-collapse-one"
              class="hs-accordion-content w-full overflow-hidden transition-[height] duration-300"
              aria-labelledby="hs-basic-heading-one"
              x-data="{ customerRadio: '' }"
            >
              <div class="grid sm:grid-cols-2 gap-2">
                <label
                  for="exsitingCustomer"
                  class="flex p-3 w-full bg-white border border-gray-200 rounded-lg text-sm focus:border-orange-400 focus:ring-orange-400"
                >
                  <span class="text-sm">Existing customer</span>
                  <input
                    type="radio"
                    name="exsitingCustomer"
                    class="shrink-0 ms-auto mt-0.5 border-gray-200 rounded-full text-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    id="exsitingCustomer"
                    x-model="customerRadio"
                    value="Existing"
                  />
                </label>

                <label
                  for="newCustomer"
                  class="flex p-3 w-full bg-white border border-gray-200 rounded-lg text-sm focus:border-orange-400 focus:ring-orange-400"
                >
                  <span class="text-sm">New customer</span>
                  <input
                    type="radio"
                    name="newCustomer"
                    class="shrink-0 ms-auto mt-0.5 border-gray-200 rounded-full text-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    id="newCustomer"
                    x-model="customerRadio"
                    value="New"
                  />
                </label>
              </div>
              <div x-show="customerRadio === 'Existing'">
                <div class="relative py-4">
                  <label class="sr-only">Search</label>
                  <input
                    type="text"
                    name="hs-table-with-pagination-search"
                    id="hs-table-with-pagination-search"
                    class="py-2 px-3 ps-9 block w-full border-gray-200 shadow-sm rounded-lg text-sm focus:z-10 focus:border-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    placeholder="Search for items"
                  />
                  <div
                    class="absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3"
                  >
                    <svg
                      class="size-4 text-gray-400"
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <circle cx="11" cy="11" r="8" />
                      <path d="m21 21-4.3-4.3" />
                    </svg>
                  </div>
                </div>
              </div>

              <div x-show="customerRadio === 'New'">
                <div class="py-4 overflow-y-auto">
                  <label for="name" class="block text-sm font-medium mb-2"
                    >Name</label
                  >
                  <input
                    type="text"
                    id="name"
                    name="name"
                    class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    placeholder="Customer name"
                    autocomplete="off"
                  />
                </div>
                <div class="py-4 overflow-y-auto">
                  <label for="email" class="block text-sm font-medium mb-2"
                    >E-mail address</label
                  >
                  <input
                    type="email"
                    id="email"
                    name="email"
                    class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    placeholder="Customer email"
                    autocomplete="off"
                  />
                </div>
                <div class="py-4 overflow-y-auto">
                  <label for="phone" class="block text-sm font-medium mb-2"
                    >Phone</label
                  >
                  <input
                    type="text"
                    id="phone"
                    name="phone"
                    class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    placeholder="Customer phone"
                    autocomplete="off"
                  />
                </div>
                <div class="py-4 overflow-y-auto">
                  <label for="address" class="block text-sm font-medium mb-2"
                    >Address</label
                  >
                  <input
                    type="text"
                    id="address"
                    name="address"
                    class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-orange-400 focus:ring-orange-400 disabled:opacity-50 disabled:pointer-events-none"
                    placeholder="Customer address"
                    autocomplete="off"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="hs-accordion" id="hs-basic-heading-two">
            <button
              type="button"
              class="hs-accordion-toggle hs-accordion-active:text-orange-400 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 rounded-lg disabled:opacity-50 disabled:pointer-events-none"
              aria-controls="hs-basic-collapse-two"
            >
              <svg
                class="hs-accordion-active:hidden block size-4"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 12h14" />
                <path d="M12 5v14" />
              </svg>
              <svg
                class="hs-accordion-active:block hidden size-4"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 12h14" />
              </svg>
              Product details
            </button>
            <div
              id="hs-basic-collapse-two"
              class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
              aria-labelledby="hs-basic-heading-two"
            >
              <div th:each="inventoryItem : ${inventory}" class="py-4">
                <div data-hs-input-number>
                  <div class="w-full flex justify-between items-center gap-x-3">
                    <p
                      class="block font-medium text-sm text-gray-800"
                      th:text="${inventoryItem.product.name}"
                    ></p>

                    <div class="flex items-center gap-x-1.5">
                      <button
                        type="button"
                        class="size-6 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-full border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none"
                        data-hs-input-number-decrement
                      >
                        <svg
                          class="flex-shrink-0 size-3.5"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M5 12h14" />
                        </svg>
                      </button>
                      <input
                        class="p-0 w-6 bg-transparent border-0 text-gray-800 text-center focus:ring-0"
                        type="text"
                        value="0"
                        data-hs-input-number-input
                      />
                      <button
                        type="button"
                        class="size-6 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-full border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none"
                        data-hs-input-number-increment
                      >
                        <svg
                          class="flex-shrink-0 size-3.5"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M5 12h14" />
                          <path d="M12 5v14" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="flex justify-end items-center gap-x-2 py-3 px-4 border-t">
          <button
            type="button"
            class="btn-secondary"
            data-hs-overlay="#add-order-modal"
          >
            Close
          </button>
          <input type="submit" class="btn-primary" value="Save changes" />
        </div>
      </form>
    </div>
  </div>
</div>
